<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="721px" preserveAspectRatio="none" style="width:869px;height:721px;background:#FFFFFF;" version="1.1" viewBox="0 0 869 721" width="869px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="201.6055" x="428.8199" y="11"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181.6055" x="438.8199" y="32.1387">User opens "New Loan" dialog</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="270.5703" x="394.3375" y="64.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="250.5703" x="404.3375" y="86.1074">Load list of readers and AVAILABLE books</text><polygon fill="#F1F1F1" points="450.101,118.9375,609.1444,118.9375,621.1444,130.9375,609.1444,142.9375,450.101,142.9375,438.101,130.9375,450.101,118.9375" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159.0435" x="450.101" y="134.7456">Is book and reader selected?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.2178" x="418.8832" y="128.3433">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.9585" x="621.1444" y="128.3433">No</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="206.832" x="226.7922" y="152.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186.832" x="236.7922" y="174.0762">Validate dates (Return &gt; Loan)</text><polygon fill="#F1F1F1" points="296.3569,206.9063,364.0596,206.9063,376.0596,218.9063,364.0596,230.9063,296.3569,230.9063,284.3569,218.9063,296.3569,206.9063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67.7026" x="296.3569" y="222.7144">Dates valid?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.2178" x="265.1392" y="216.312">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.9585" x="376.0596" y="216.312">No</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="281.082" x="46.2856" y="240.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="261.082" x="56.2856" y="262.0449">Start DB transaction (setAutoCommit false)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166.6895" x="103.4819" y="294.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146.6895" x="113.4819" y="316.0137">INSERT into table 'loans'</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="241.1621" x="66.2456" y="348.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="221.1621" x="76.2456" y="369.9824">UPDATE table 'books' (available = 0)</text><polygon fill="#F1F1F1" points="161.7678,402.8125,211.8855,402.8125,223.8855,414.8125,211.8855,426.8125,161.7678,426.8125,149.7678,414.8125,161.7678,402.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50.1177" x="161.7678" y="418.6206">Success?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.2178" x="130.55" y="412.2183">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78.4341" x="223.8855" y="412.2183">No - SQL Error</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="138.7402" x="28.2705" y="436.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118.7402" x="38.2705" y="457.9512">Commit transaction</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128.5566" x="33.3623" y="490.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108.5566" x="43.3623" y="511.9199">Update table in UI</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="173.2813" x="11" y="544.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153.2813" x="21" y="565.8887">Show "Success" message</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="142.4668" x="204.7793" y="436.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122.4668" x="214.7793" y="457.9512">Rollback transaction</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143.4629" x="204.2813" y="490.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123.4629" x="214.2813" y="511.9199">Show error message</text><polygon fill="#F1F1F1" points="186.8267,584.7188,198.8267,596.7188,186.8267,608.7188,174.8267,596.7188,186.8267,584.7188" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="191.6914" x="377.7441" y="240.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171.6914" x="387.7441" y="262.0449">Show warning "Invalid Date"</text><polygon fill="#F1F1F1" points="330.2083,614.7188,342.2083,626.7188,330.2083,638.7188,318.2083,626.7188,330.2083,614.7188" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="259.2031" x="599.4355" y="152.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="239.2031" x="609.4355" y="174.0762">Show warning "Select book and reader"</text><polygon fill="#F1F1F1" points="529.6227,644.7188,541.6227,656.7188,529.6227,668.7188,517.6227,656.7188,529.6227,644.7188" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="529.6227" cy="699.7188" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="529.6227" cy="699.7188" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="529.6227" x2="529.6227" y1="44.9688" y2="64.9688"/><polygon fill="#181818" points="525.6227,54.9688,529.6227,64.9688,533.6227,54.9688,529.6227,58.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="186.8267" y1="274.875" y2="294.875"/><polygon fill="#181818" points="182.8267,284.875,186.8267,294.875,190.8267,284.875,186.8267,288.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="186.8267" y1="328.8438" y2="348.8438"/><polygon fill="#181818" points="182.8267,338.8438,186.8267,348.8438,190.8267,338.8438,186.8267,342.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="97.6406" x2="97.6406" y1="470.7813" y2="490.7813"/><polygon fill="#181818" points="93.6406,480.7813,97.6406,490.7813,101.6406,480.7813,97.6406,484.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="97.6406" x2="97.6406" y1="524.75" y2="544.75"/><polygon fill="#181818" points="93.6406,534.75,97.6406,544.75,101.6406,534.75,97.6406,538.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="276.0127" x2="276.0127" y1="470.7813" y2="490.7813"/><polygon fill="#181818" points="272.0127,480.7813,276.0127,490.7813,280.0127,480.7813,276.0127,484.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="149.7678" x2="97.6406" y1="414.8125" y2="414.8125"/><line style="stroke:#181818;stroke-width:1;" x1="97.6406" x2="97.6406" y1="414.8125" y2="436.8125"/><polygon fill="#181818" points="93.6406,426.8125,97.6406,436.8125,101.6406,426.8125,97.6406,430.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="223.8855" x2="276.0127" y1="414.8125" y2="414.8125"/><line style="stroke:#181818;stroke-width:1;" x1="276.0127" x2="276.0127" y1="414.8125" y2="436.8125"/><polygon fill="#181818" points="272.0127,426.8125,276.0127,436.8125,280.0127,426.8125,276.0127,430.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="97.6406" x2="97.6406" y1="578.7188" y2="596.7188"/><line style="stroke:#181818;stroke-width:1;" x1="97.6406" x2="174.8267" y1="596.7188" y2="596.7188"/><polygon fill="#181818" points="164.8267,592.7188,174.8267,596.7188,164.8267,600.7188,168.8267,596.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="276.0127" x2="276.0127" y1="524.75" y2="596.7188"/><line style="stroke:#181818;stroke-width:1;" x1="276.0127" x2="198.8267" y1="596.7188" y2="596.7188"/><polygon fill="#181818" points="208.8267,592.7188,198.8267,596.7188,208.8267,600.7188,204.8267,596.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="186.8267" y1="382.8125" y2="402.8125"/><polygon fill="#181818" points="182.8267,392.8125,186.8267,402.8125,190.8267,392.8125,186.8267,396.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.3569" x2="186.8267" y1="218.9063" y2="218.9063"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="186.8267" y1="218.9063" y2="240.9063"/><polygon fill="#181818" points="182.8267,230.9063,186.8267,240.9063,190.8267,230.9063,186.8267,234.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="376.0596" x2="473.5898" y1="218.9063" y2="218.9063"/><line style="stroke:#181818;stroke-width:1;" x1="473.5898" x2="473.5898" y1="218.9063" y2="240.9063"/><polygon fill="#181818" points="469.5898,230.9063,473.5898,240.9063,477.5898,230.9063,473.5898,234.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="186.8267" y1="608.7188" y2="626.7188"/><line style="stroke:#181818;stroke-width:1;" x1="186.8267" x2="318.2083" y1="626.7188" y2="626.7188"/><polygon fill="#181818" points="308.2083,622.7188,318.2083,626.7188,308.2083,630.7188,312.2083,626.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="473.5898" x2="473.5898" y1="274.875" y2="626.7188"/><line style="stroke:#181818;stroke-width:1;" x1="473.5898" x2="342.2083" y1="626.7188" y2="626.7188"/><polygon fill="#181818" points="352.2083,622.7188,342.2083,626.7188,352.2083,630.7188,348.2083,626.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="330.2083" x2="330.2083" y1="186.9063" y2="206.9063"/><polygon fill="#181818" points="326.2083,196.9063,330.2083,206.9063,334.2083,196.9063,330.2083,200.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="438.101" x2="330.2083" y1="130.9375" y2="130.9375"/><line style="stroke:#181818;stroke-width:1;" x1="330.2083" x2="330.2083" y1="130.9375" y2="152.9375"/><polygon fill="#181818" points="326.2083,142.9375,330.2083,152.9375,334.2083,142.9375,330.2083,146.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="621.1444" x2="729.0371" y1="130.9375" y2="130.9375"/><line style="stroke:#181818;stroke-width:1;" x1="729.0371" x2="729.0371" y1="130.9375" y2="152.9375"/><polygon fill="#181818" points="725.0371,142.9375,729.0371,152.9375,733.0371,142.9375,729.0371,146.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="330.2083" x2="330.2083" y1="638.7188" y2="656.7188"/><line style="stroke:#181818;stroke-width:1;" x1="330.2083" x2="517.6227" y1="656.7188" y2="656.7188"/><polygon fill="#181818" points="507.6227,652.7188,517.6227,656.7188,507.6227,660.7188,511.6227,656.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="729.0371" x2="729.0371" y1="186.9063" y2="656.7188"/><line style="stroke:#181818;stroke-width:1;" x1="729.0371" x2="541.6227" y1="656.7188" y2="656.7188"/><polygon fill="#181818" points="551.6227,652.7188,541.6227,656.7188,551.6227,660.7188,547.6227,656.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="529.6227" x2="529.6227" y1="98.9375" y2="118.9375"/><polygon fill="#181818" points="525.6227,108.9375,529.6227,118.9375,533.6227,108.9375,529.6227,112.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="529.6227" x2="529.6227" y1="668.7188" y2="688.7188"/><polygon fill="#181818" points="525.6227,678.7188,529.6227,688.7188,533.6227,678.7188,529.6227,682.7188" style="stroke:#181818;stroke-width:1;"/><!--SRC=[RPB1Ri8m44Jl-OfHBeH3fPw9sYejEKIAK4i8KeycsO25iP7NmE_NSG95j1TBzioytRKzgvaip94q8rxG1QKHEaOhXJBRD9hvRGibsS5qi2HQiWoXMsJhh2YpzpB7nfWzfv7ia1GSTi4mcC6ag77KlatXTgIHV1DF8s2s5agsmX7wXP4ioPsincleO9fwIq-S1_7SUny9db4vOHtcxt1MQ1QDayRhJ2uxEVDX3WVfq0d557W-K2ogVBc2rCx0YOqYJ9GlnvDHhp_dsIg_Ic6o2H9n5bA5enSyZwY-kUhKDCJyjp5F6glVDPPUfVeOvXwAI8swk4dLpbmGZzmO1x-ABGqo-JcGB0oUK7sLoAqrzbPkQPJQY6R_Ry50fTx_GDIjxA9VylLMU_j5M2tr5d6Xm-sZVucupmsf-yn3eWfF_lWJV7P8iZF77m00]--></g></svg>